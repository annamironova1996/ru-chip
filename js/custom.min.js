var funcDefined=function(t){return"function"==typeof t},readyDOM=function(t){"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)};typeofExt=function(t){let e=Object.prototype.toString;return e.call(t).slice(8,-1).toLowerCase()},BX.addCustomEvent("onSubmitForm",function(t){try{"object"==typeof t&&t&&t.form&&(t.form instanceof Node||(t.form=t.form[0]),new Promise((e,a)=>{if(BX.Kdelo?.Captcha){BX.Kdelo.Captcha.onSubmit(t).then(t=>{e(t)}).catch(t=>{a(t)});return}e(!0)}).then(e=>{e&&(t.form.submit(),t.form.closest(".form_wr")&&t.form.closest(".form_wr").classList.add("sending"))}))}catch(e){console.error(e)}}),$(function(){IMask(document.getElementById("INLINE_CONTACT"),{mask:[{mask:"+{7} (000) 000-00-00"},{mask:/^\S*@?\S*$/}]}).on("accept",function(){}),$.extend($.validator.messages,{required:BX.message("JS_REQUIRED"),email:BX.message("JS_FORMAT"),equalTo:BX.message("JS_PASSWORD_COPY"),minlength:BX.message("JS_PASSWORD_LENGTH"),remote:BX.message("JS_ERROR")}),$.validator.addMethod("regexp",function(t,e,a){var o=RegExp(a);return this.optional(e)||o.test(t)},BX.message("JS_FORMAT")),$.validator.addMethod("captcha",function(t,e,a){let o=$(e).closest("form").find('input[name="captcha_sid"]');o.length||(o=$(e).closest("form").find('input[name="captcha_code"]'));let n=o.val();return $.validator.methods.remote.call(this,t,e,{url:arSiteOptions.SITE_DIR+"ajax/check-captcha.php",type:"post",data:{captcha_word:t,captcha_sid:n}})},BX.message("JS_ERROR")),$.validator.addMethod("recaptcha",function(t,e,a){return!BX.Kdelo?.Captcha||BX.Kdelo.Captcha.validate(e)},BX.message("JS_RECAPTCHA_ERROR")),$.validator.addClassRules({confirm_password:{equalTo:"input.password",minlength:6},password:{minlength:6},captcha:{captcha:""},recaptcha:{recaptcha:""}}),$.validator.setDefaults({highlight:function(t){$(t).parent().addClass("error")},unhighlight:function(t){$(t).parent().removeClass("error")},errorPlacement:function(t,e){let a=$(e[0].closest(".uploader")||e[0].closest(".iti")||e[0]);t.insertAfter(a)}})});